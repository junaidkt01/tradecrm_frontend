import { useEffect, useState } from "react";
import "./ToggleSwitch.css"

const ToggleSwitch = () => {
    const [theme, setTheme] = useState(localStorage.getItem('theme') || 'light');

    useEffect(() => {
        document.documentElement.setAttribute('data-theme', theme);
        localStorage.setItem('theme', theme);
    }, [theme]);

    const toggleTheme = () => {
        setTheme((prevTheme) => (prevTheme === 'light' ? 'dark' : 'light'));
    };

    return (
        <div className={`toggle-container ${theme === 'dark' ? 'night' : ''}`} onClick={toggleTheme}>
            <div className={`toggle-button ${theme === 'dark' ? 'dark' : 'white'}`}></div>
            <svg className="icon sun-icon" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M10 1.875C10.1658 1.875 10.3247 1.94085 10.4419 2.05806C10.5592 2.17527 10.625 2.33424 10.625 2.5V4.375C10.625 4.54076 10.5592 4.69973 10.4419 4.81694C10.3247 4.93415 10.1658 5 10 5C9.83424 5 9.67527 4.93415 9.55806 4.81694C9.44085 4.69973 9.375 4.54076 9.375 4.375V2.5C9.375 2.33424 9.44085 2.17527 9.55806 2.05806C9.67527 1.94085 9.83424 1.875 10 1.875ZM6.25 10C6.25 9.00544 6.64509 8.05161 7.34835 7.34835C8.05161 6.64509 9.00544 6.25 10 6.25C10.9946 6.25 11.9484 6.64509 12.6516 7.34835C13.3549 8.05161 13.75 9.00544 13.75 10C13.75 10.9946 13.3549 11.9484 12.6516 12.6516C11.9484 13.3549 10.9946 13.75 10 13.75C9.00544 13.75 8.05161 13.3549 7.34835 12.6516C6.64509 11.9484 6.25 10.9946 6.25 10ZM15.745 5.13833C15.8554 5.01985 15.9155 4.86315 15.9126 4.70123C15.9098 4.53931 15.8442 4.38483 15.7297 4.27032C15.6152 4.1558 15.4607 4.09021 15.2988 4.08735C15.1369 4.0845 14.9801 4.1446 14.8617 4.255L13.5358 5.58C13.4761 5.63763 13.4285 5.70657 13.3957 5.78281C13.3629 5.85904 13.3456 5.94105 13.3448 6.02403C13.3441 6.10702 13.3599 6.18933 13.3912 6.26615C13.4226 6.34298 13.469 6.41278 13.5277 6.47149C13.5863 6.5302 13.6561 6.57664 13.7329 6.6081C13.8097 6.63956 13.892 6.65542 13.975 6.65474C14.0579 6.65405 14.14 6.63685 14.2162 6.60413C14.2925 6.57141 14.3615 6.52383 14.4192 6.46417L15.745 5.13833ZM18.125 10C18.125 10.1658 18.0592 10.3247 17.9419 10.4419C17.8247 10.5592 17.6658 10.625 17.5 10.625H15.625C15.4592 10.625 15.3003 10.5592 15.1831 10.4419C15.0658 10.3247 15 10.1658 15 10C15 9.83424 15.0658 9.67527 15.1831 9.55806C15.3003 9.44085 15.4592 9.375 15.625 9.375H17.5C17.6658 9.375 17.8247 9.44085 17.9419 9.55806C18.0592 9.67527 18.125 9.83424 18.125 10ZM14.8617 15.745C14.9801 15.8554 15.1369 15.9155 15.2988 15.9126C15.4607 15.9098 15.6152 15.8442 15.7297 15.7297C15.8442 15.6152 15.9098 15.4607 15.9126 15.2988C15.9155 15.1369 15.8554 14.9801 15.745 14.8617L14.42 13.5358C14.3624 13.4761 14.2934 13.4285 14.2172 13.3957C14.141 13.3629 14.059 13.3456 13.976 13.3448C13.893 13.3441 13.8107 13.3599 13.7338 13.3912C13.657 13.4226 13.5872 13.469 13.5285 13.5277C13.4698 13.5863 13.4234 13.6561 13.3919 13.7329C13.3604 13.8097 13.3446 13.892 13.3453 13.975C13.3459 14.0579 13.3631 14.14 13.3959 14.2162C13.4286 14.2925 13.4762 14.3615 13.5358 14.4192L14.8617 15.745ZM10 15C10.1658 15 10.3247 15.0658 10.4419 15.1831C10.5592 15.3003 10.625 15.4592 10.625 15.625V17.5C10.625 17.6658 10.5592 17.8247 10.4419 17.9419C10.3247 18.0592 10.1658 18.125 10 18.125C9.83424 18.125 9.67527 18.0592 9.55806 17.9419C9.44085 17.8247 9.375 17.6658 9.375 17.5V15.625C9.375 15.4592 9.44085 15.3003 9.55806 15.1831C9.67527 15.0658 9.83424 15 10 15ZM6.465 14.4192C6.57879 14.3012 6.64172 14.1433 6.64022 13.9795C6.63872 13.8156 6.57291 13.6589 6.45698 13.543C6.34104 13.4272 6.18425 13.3615 6.02038 13.3602C5.8565 13.3589 5.69866 13.4219 5.58083 13.5358L4.255 14.8608C4.14109 14.9787 4.07802 15.1365 4.07937 15.3004C4.08071 15.4643 4.14637 15.621 4.2622 15.737C4.37802 15.8529 4.53475 15.9187 4.69862 15.9202C4.8625 15.9217 5.0204 15.8588 5.13833 15.745L6.46417 14.42L6.465 14.4192ZM5 10C5 10.1658 4.93415 10.3247 4.81694 10.4419C4.69973 10.5592 4.54076 10.625 4.375 10.625H2.5C2.33424 10.625 2.17527 10.5592 2.05806 10.4419C1.94085 10.3247 1.875 10.1658 1.875 10C1.875 9.83424 1.94085 9.67527 2.05806 9.55806C2.17527 9.44085 2.33424 9.375 2.5 9.375H4.375C4.54076 9.375 4.69973 9.44085 4.81694 9.55806C4.93415 9.67527 5 9.83424 5 10ZM5.58083 6.46417C5.69931 6.57457 5.85602 6.63467 6.01794 6.63181C6.17985 6.62896 6.33434 6.56336 6.44885 6.44885C6.56336 6.33434 6.62896 6.17985 6.63181 6.01794C6.63467 5.85602 6.57457 5.69931 6.46417 5.58083L5.13917 4.255C5.02134 4.14109 4.8635 4.07802 4.69962 4.07937C4.53575 4.08071 4.37896 4.14637 4.26302 4.2622C4.14709 4.37802 4.08128 4.53475 4.07978 4.69862C4.07828 4.8625 4.14121 5.0204 4.255 5.13833L5.58083 6.46417Z" fill={`${theme === "dark" ? "white" : "#FABF2A"}`} />
            </svg>
            <svg className="icon moon-icon" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M7.94 1.43166C8.0276 1.51924 8.08721 1.63088 8.11124 1.75239C8.13528 1.87391 8.12266 1.99983 8.075 2.11416C7.69402 3.02851 7.49857 4.00946 7.5 5C7.5 6.98912 8.29018 8.89678 9.6967 10.3033C11.1032 11.7098 13.0109 12.5 15 12.5C15.9905 12.5014 16.9715 12.306 17.8858 11.925C18.0001 11.8774 18.1259 11.8648 18.2473 11.8888C18.3687 11.9128 18.4803 11.9723 18.5678 12.0598C18.6554 12.1473 18.715 12.2588 18.7391 12.3802C18.7633 12.5015 18.7508 12.6274 18.7033 12.7417C18.0384 14.336 16.9164 15.698 15.4789 16.6559C14.0414 17.6139 12.3525 18.1251 10.625 18.125C5.7925 18.125 1.875 14.2083 1.875 9.375C1.875 5.735 4.0975 2.615 7.25833 1.29666C7.37256 1.24918 7.49831 1.23666 7.61966 1.26069C7.74101 1.28473 7.85249 1.34423 7.94 1.43166Z" fill={`${theme === 'dark' ? "#f8d16e" : "#62636C"}`} />
            </svg>
        </div>
    )
}

export default ToggleSwitch
